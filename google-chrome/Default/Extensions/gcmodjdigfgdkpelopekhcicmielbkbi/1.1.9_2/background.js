!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([,,function(e,t,n){e.exports=n(3)},function(e,t){const n=chrome.runtime.getManifest();var o=["164031437170"],a="",i=e=>new Promise((function(t,n){chrome.storage.sync.get([e],(function(n){t(n[e])}))})),r=(e,t)=>new Promise((function(n,o){var a={};a[e]=t,chrome.storage.sync.set(a,(function(e){n(a)}))}));async function c(e,t,n=0,o=0){var a=new Promise((function(a,i){if("set"==e&&n){let e=Object.keys(t);t[e]={value:t[e],_time:1e3*o+ +new Date}}chrome.storage.local[e](t,(function(o){if("get"==e)if(n){let e=o[t];e&&e._time?e._time>+new Date?a(e.value):(c("remove",t),a("")):a("")}else a(o[t]);a(!0)}))}));return await a}async function s(){return a||(await c("get","myid")||await c("set",{myid:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}()}),a=await c("get","myid"))}async function u(e){let t=await s();t&&e&&""!=e&&"undefined"!=e&&(await c("get","tokensent",1)||(fetch("https://www.blockyoutubeads.com/notification_token/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"myid="+t+"&fcm_id="+e}).then(()=>{c("set",{fcm_token:e})}).catch(e=>{}),await c("set",{tokensent:1},1,43200)))}!async function(){!async function(e){chrome.gcm&&e&&chrome.gcm.register(o,u)}(await s())}();const d=["(doubleclick.net)","(adservice.google.)","(youtube.com/api/stats/ads)","(&ad_type=)","(&adurl=)","(-pagead-id.)","(doubleclick.com)","(/ad_status.)","(/api/ads/)","(/googleads)","(/pagead/gen_)","(/pagead/lvz?)","(/pubads.)","(/pubads_)","(/securepubads)","(=adunit&)","(googlesyndication.com)","(innovid.com)","(youtube.com/pagead/)","(google.com/pagead/)","(flashtalking.com)","(googleadservices.com)","(s0.2mdn.net/ads)","(www.youtube.com/ptracking)","(www.youtube.com/pagead)","(www.youtube.com/get_midroll_)"],l={ads:!0,annotations:!1,youtubeAdRegex:d};var m=`https://www.blockyoutubeads.com/?v=${n.version}&xtid=${chrome.runtime.id}`,f=`https://www.blockyoutubeads.com/uninstall/?v=${n.version}&xtid=${chrome.runtime.id}`;async function g(){l.ads=await i("ads"),l.annotations=await i("annotations"),l.youtubeAdRegex=await i("youtubeAdRegex")||d}n.version,chrome.runtime.id,chrome.runtime.setUninstallURL(f),chrome.runtime.onInstalled.addListener(async({reason:e},t)=>{"install"===e&&(await r("ads",!0),await r("annotations",!1),chrome.tabs.create({url:m}))}),chrome.storage.onChanged.addListener((async function(e,t){for(let[t,{oldValue:n,newValue:o}]of Object.entries(e))["youtubeAdRegex","ads","annotations"].includes(t)&&(await g(),p())})),g();function p(){let e=[];l.ads&&(e=l.youtubeAdRegex),l.annotations&&e.push("(youtubecom/annotations_invideo)");let t=e.map((e,t)=>({id:t+1,priority:1,action:{type:"block"},condition:{urlFilter:e,resourceTypes:["script","image","xmlhttprequest","sub_frame"],domains:["youtube.com"]}}));chrome.declarativeNetRequest.getDynamicRules((function(e){let n=e.map(e=>e.id);chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:n,addRules:t})}))}chrome.runtime.onMessage.addListener(({action:e,href:t,message:n},{tab:o},a)=>{"PAGE_READY"===e&&a({enabled:l.ads})}),setTimeout((function(){window.location.reload()}),864e5),chrome.gcm.onMessage.addListener((function(e){var t=e.data.message;let n=(t=JSON.parse(t))[0].image;t[0].link.search("oib")>0?chrome.tabs.create({url:t[0].link}):function(e,t,n,o){let a="basic";o&&(a="image");var i={type:a,title:e,imageUrl:o,message:t,iconUrl:"https://cdn-icons-png.flaticon.com/512/3239/3239958.png?d="+Math.floor(1e4*Math.random()%678+1),priority:100,requireInteraction:!0},r=(Math.floor(9007199254740992*Math.random())+1).toString();chrome.notifications.create(r,i,(function(e){y.push({notfID:e,URL:n})}))}(t[0].title,t[0].desc,t[0].link,n)}));var y=[];chrome.notifications.onClicked.addListener((function(e){for(let t=0;t<y.length;t++)y[t].notfID==e&&chrome.tabs.create({url:y[t].URL})})),chrome.tabs.onUpdated.addListener((function(e,t,n){t.url}))}]);