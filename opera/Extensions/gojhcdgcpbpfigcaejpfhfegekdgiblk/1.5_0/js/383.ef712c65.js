"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[383],{88080:function(t,e,s){s.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.chainNameFriendly?s("div",{staticClass:"flex mr-2 px-2 py-0.5 rounded-full space-x-1 t-chain-badge text-dark-N77",class:[t.backgroundColor]},[t.chainLogo?s("img",{staticClass:"object-contain w-3.5",attrs:{alt:"",src:t.chainLogo}}):t._e(),s("span",{staticClass:"t-chain-badge-name"},[t._v(t._s(t.chainNameFriendly))])]):t._e()},n=[],o=s(6445),a={name:"ChainBadge",props:{backgroundColor:{default:"bg-dark-N16",type:String},chain:{default:void 0,type:Object}},computed:{chainLogo(){if(this.chain)return(0,o.Z)(this.chain).icon()},chainNameFriendly(){if(this.chain)return this.$store.getters.chainNameFriendly(this.chain)}}},r=a,l=s(1001),c=(0,l.Z)(r,i,n,!1,null,null,null),d=c.exports},60408:function(t,e,s){s.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex items-center justify-center"},[s("input",{staticClass:"absolute appearance-none bg-white block border-4 h-6 rounded-full toggle-checkbox w-6",class:t.disabled?"cursor-not-allowed":"cursor-pointer",attrs:{name:"toggle",type:"checkbox"},domProps:{checked:t.checked}}),s("label",{staticClass:"flex h-6 relative select-none w-12",class:t.disabled?"cursor-not-allowed":"cursor-pointer",attrs:{for:"toggle"}},[s("span",{staticClass:"absolute h-full left-0 rounded-full top-0 w-full",class:{"bg-accent":t.checked,"bg-dark-N20":!t.checked}}),s("span",{staticClass:"absolute bg-white border-2 duration-300 ease-in-out flex h-6 items-center justify-center rounded-full transition-transform w-6",class:{"right-0":t.checked,"border-accent":t.checked,"border-dark-N20":!t.checked}})])])},n=[],o={name:"OperaCheckbox",props:{checked:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean}}},a=o,r=s(1001),l=(0,r.Z)(a,i,n,!1,null,null,null),c=l.exports},46693:function(t,e,s){s.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showing?s("div",{staticClass:"duration-150 ease-in-out t-simple_popover transition-all",class:[t.opacityClass],on:{mouseout:t.hide,mouseover:t.show}},[s("div",{staticClass:"h-full relative rounded-lg w-full",class:[t.backgroundClass]},[s("div",{staticClass:"-z-10 absolute h-11 rotate-45 transform w-11",class:[t.backgroundClass,t.caretHorizontalPosition,t.caretVerticalInset+"-0"]}),s("div",{staticClass:"p-7.5 pt-6"},[t._t("default")],2)])]):t._e()},n=[],o=s(20144),a=o.Z.extend({name:"SimplePopover",props:{backgroundClass:{default:"bg-dark-N16",type:String},caretHorizontalPosition:{required:!0,type:String},caretVerticalInset:{default:"top",type:String}},data(){return{hideTimer:null,opacityClass:"opacity-0",showing:!1}},methods:{hide(t=500){this.hideTimer=window.setTimeout((()=>{this.showing=!1,this.opacityClass="opacity-0"}),t)},show(){this.hideTimer&&clearTimeout(this.hideTimer),this.showing=!0,setTimeout((()=>{this.opacityClass="opacity-100"}),100)}}}),r=a,l=s(1001),c=(0,l.Z)(r,i,n,!1,null,null,null),d=c.exports},21356:function(t,e,s){s.r(e),s.d(e,{default:function(){return Y}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-cover bg-portfolio-background flex-grow h-full"},[s("top-bar",{attrs:{"test-parent-name":"assets_view",title:t.$t("general.assets")}}),s("div",{staticClass:"pt-4 px-14"},[s("div",{staticClass:"text-left"},[s("div",{staticClass:"font-bold mr-4 text-4xl text-white tracking-widest truncate"},[t._v(" "+t._s(t.balanceFriendly)+" ")])]),s("asset-action-row",{attrs:{address:t.address,token:t.token}})],1),s("div",{staticClass:"pt-2 px-14"},[s("switching-tabs",{on:{selected:t.tabSelected}},[s("switching-tab",{attrs:{title:t.$t("general.myAssets")}},[s("assets-widget")],1),s("switching-tab",{attrs:{title:t.$t("general.activity")}},[s("activity-box",{key:t.timesTransactionsUpdated,attrs:{activities:t.transactions}})],1)],1)],1)],1)},n=[],o=(s(84633),s(95286)),a=s(70678),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.assets.length?i("asset-list"):i("div",{staticClass:"flex items-center items-center justify-around mb-4 mt-8"},[i("img",{staticClass:"empty-wallet-icon h-20 w-20",attrs:{src:s(14964)}}),i("div",{staticClass:"text-left"},[i("p",{staticClass:"text-dark-N77 text-xl"},[t._v(t._s(t.$t("general.nothingHere")))]),i("p",{staticClass:"mt-1 text-dark-N32 text-sm"},[t._v(t._s(t.$t("components.assetsWidget.yourWallet")))])])])],1)},l=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.tokens.length?s("div",{staticClass:"bg-dark-N16 mt-4 pr-1.5 rounded-lg"},[s("div",{staticClass:"flex items-center justify-between pb-1 pl-5 pt-3.5"},[s("span",{staticClass:"font-bold text-md"},[t._v(t._s(t.$t("general.myAssets")))]),s("button",{staticClass:"cursor-pointer pr-3.5 t-asset-settings text-brand-primary text-sm",attrs:{type:"button"},on:{click:t.showAssetSettingsDialog}},[t._v(" "+t._s(t.$t("general.settings"))+" ")])]),s("asset-settings-dialog",{ref:"assetSettingsDialog"}),s("transition-group",{staticClass:"t-asset-list",attrs:{appear:"",name:"item-transition",tag:"div"}},[s("smart-list-container",{key:"t-asset-list-"+t.reservedHeightPx+"px",staticClass:"pl-5 t-assets-list",attrs:{"base-list-element-height-px":t.listElementHeightPx,"number-of-elements":t.tokenList.length,"reserved-height-px":t.reservedHeightPx}},t._l(t.tokenList,(function(e){return s("div",{key:e.contract.contract+"_"+e.chain.coinType+"_"+e.chain.chainId,class:"t-asset_list-"+e.contract.contract,on:{click:function(s){return t.goToTokenOverview(e)}}},[s("div",{staticClass:"cursor-pointer flex gap-x-3 items-center my-0.5 py-4 w-full"},[s("token-icon",{staticClass:"flex-shrink-0 h-9 w-9",attrs:{address:e.contract.contract.toLowerCase(),chain:e.chain,type:e.contract.type},on:{hideUnverifiedTokenPopover:t.hideUnverifiedTokenPopover,showUnverifiedTokenPopover:t.showUnverifiedTokenPopover}}),s("div",{staticClass:"flex flex-col flex-grow flex-shrink truncate w-max"},[s("div",{staticClass:"flex flex-row items-baseline justify-between mb-0.5"},[s("div",{staticClass:"font-bold max-w-60 mr-1 text-sm truncate w-fit"},[t._v(" "+t._s(e.contract.name)+" ")]),s("p",{staticClass:"flex-grow font-bold max-w-60 text-end text-md truncate"},[t._v(" "+t._s(t.printValue(e)+" "+e.contract.symbol)+" ")])]),s("div",{staticClass:"flex flex-grow flex-row justify-between whitespace-nowrap"},[s("chain-badge",{staticClass:"text-xs w-max",attrs:{"background-color":"bg-input-bg",chain:e.chain}}),t.getPriceForTokenAmount(e)?s("p",{staticClass:"flex-grow font-light max-w-60 text-end text-sm text-text-alt"},[t._v(" "+t._s(t.getPriceForTokenAmount(e))+" ")]):t._e()],1)])],1)])})),0)],1),s("unverified-token-popover",{ref:"unverifiedTokenPopover",on:{showAssetSettingsDialog:t.showAssetSettingsDialog}})],1):t._e()},d=[],p=(s(57658),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.showing,expression:"showing"}],staticClass:"bg-background bottom-0 fixed flex flex-col left-0 pb-20 right-0 top-0 tracking-wide z-10"},[s("top-bar",{attrs:{"emit-back":"","test-parent-name":"asset_settings_dialog",title:t.title},on:{back:t.close}}),t.showSortAssetsOptions?s("ul",{staticClass:"px-4 py-4"},t._l(t.sortAssetsOptions,(function(e){return s("li",{key:e.key,staticClass:"bg-dark-N16 border border-black border-opacity-10 cursor-pointer flex items-center mb-2 px-4 py-3 rounded-lg",class:"t-sort-assets-"+e.key,on:{click:function(s){return t.clickSortingOption(e)}}},[s("p",[t._v(t._s(e.label))])])})),0):s("div",{staticClass:"mt-5"},t._l(t.settings,(function(e){return s("li",{key:e.key,staticClass:"cursor-pointer flex flex-row justify-between px-14 py-5",class:["t-asset-settings-"+e.key,e.addClass],on:{click:function(s){return t.clickSetting(e)}}},[s("div",{staticClass:"flex flex-row"},[s("img",{staticClass:"h-6 mr-4 w-6",attrs:{src:e.icon}}),s("p",[t._v(t._s(t.$t(e.title)))])]),"checkbox"===e.type?s("opera-checkbox",{class:"t-asset-setting-"+e.key,attrs:{checked:e.checked}}):t._e(),"select"===e.type?s("p",{staticClass:"t-sort-assets-option"},[t._v(t._s(e.value))]):t._e()],1)})),0)],1)}),h=[],u=s(60408),g=s(56258),f=s(38423),m={name:"AssetSettingsDialog",components:{OperaCheckbox:u.Z,TopBar:f.Z},data(){return{showSortAssetsOptions:!1,showing:!1}},computed:{settings(){return[{action:()=>{const t=this.$store.state.settings.hideLowValueTokens?"show":"hide";g.Z.sendStatsEvent(g.Z.types.CLICK,`wt_asset_${t}_small`),this.$store.dispatch("hideLowValueTokens")},checked:this.$store.state.settings.hideLowValueTokens,hidden:!this.$store.getters.allFungibleTokens.length,icon:s(72213),key:"hide-low-value-tokens",title:"components.assetSettingsDialog.hideLowValueTokens",type:"checkbox"},{action:()=>this.$store.dispatch("hideNonVerifiedTokens"),checked:this.$store.state.settings.hideNonVerifiedTokens,hidden:!this.$store.getters.allFungibleTokens.length,icon:s(3806),key:"hide-non-verified-tokens",title:"components.assetSettingsDialog.hideNonVerifiedTokens",type:"checkbox"},{action:()=>this.showSortAssetsOptions=!0,icon:s(87675),key:"sort-assets",title:"components.assetSettingsDialog.sortAssets",type:"select",value:this.sortAssetsOption}].filter((t=>!t.hidden))},sortAssetsOption(){return this.$t(`sortingOptions.${this.$store.state.settings.sortAssetsOption}`)},sortAssetsOptions(){const{sortingOptions:t}=this.$store.getters;let e=t.map((t=>({key:t,label:this.$t(`sortingOptions.${t}`)})));return e=e.sort(((t,e)=>t.label.localeCompare(e.label))),e},title(){const t=this.$t("components.assetSettingsDialog.assetDisplaySettings"),e=this.$t("components.assetSettingsDialog.sortAssets");return this.showSortAssetsOptions?e:t}},methods:{clickSetting(t){t.action()},async clickSortingOption(t){g.Z.sendStatsEvent(g.Z.types.CLICK,"wt_asset_select_sort",{sort:t.key}),await this.$store.dispatch("setSortAssetsOption",t.key),this.showSortAssetsOptions=!1},close(){this.showSortAssetsOptions?this.showSortAssetsOptions=!1:this.showing=!1},show(){this.showing=!0}}},v=m,k=s(1001),w=(0,k.Z)(v,p,h,!1,null,null,null),b=w.exports,x=s(88080),y=s(48632),C=s(67990),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("simple-popover",{ref:"popover",staticClass:"fixed font-medium h-min left-6 t-unverified_token_popover text-sm w-72 z-10",attrs:{"background-class":"bg-dark-N04","caret-horizontal-position":"left-7.5","caret-vertical-inset":"bottom"}},[s("i18n",{staticClass:"whitespace-pre-line",attrs:{path:"components.popovers.unverifiedToken",tag:"p"},scopedSlots:t._u([{key:"settingsPage",fn:function(){return[s("span",{staticClass:"cursor-pointer text-brand-primary",on:{click:function(e){return t.$emit("showAssetSettingsDialog")}}},[t._v(t._s(t.$t("components.popovers.unverifiedTokenSettingsPage")))])]},proxy:!0}])})],1)},T=[],S=s(46693),$=s(20144),Z=$.Z.extend({name:"UnverifiedTokenPopover",components:{SimplePopover:S.Z},computed:{popover(){return this.$refs.popover}},methods:{hide(t){this.popover.hide(t)},show(t){this.popover.show(),this.$nextTick((()=>{const e=this.popover.$el,s=11,i=e.offsetHeight+t.offsetY+s;e.style.top=t.pageY-i+"px"}))}}}),A=Z,P=(0,k.Z)(A,_,T,!1,null,"42668134",null),O=P.exports,L=s(4634),N=s(98180),D=$.Z.extend({name:"AssetList",components:{AssetSettingsDialog:b,ChainBadge:x.Z,SmartListContainer:y.Z,TokenIcon:C.Z,UnverifiedTokenPopover:O},props:{statsSource:{default:"asset",type:String}},data(){return{listElementHeightPx:82}},computed:{assetSettingsDialog(){return this.$refs.assetSettingsDialog},reservedHeightPx(){let t=482;const e=58;return this.$store.getters.connectionState&&(t+=e),t},tokenList(){return this.$store.getters.tokenListAdjustedToSettings(this.tokens)},tokens(){return this.$store.getters.ownedTokens},unverifiedTokenPopover(){return this.$refs.unverifiedTokenPopover}},methods:{getPriceForTokenAmount(t){const e=this.$store.getters.getPriceForTokenAmount(t);if(e)return L.ZP.localizeCurrency(e)},goToTokenOverview(t){"asset"===this.statsSource&&g.Z.sendStatsEvent(g.Z.types.CLICK,"wt_asset_coinClicked",{network:this.$store.getters.getNetworkName(t.chain),symbol:t.contract.symbol}),this.$router.push({name:"TokenOverview",query:{address:t.contract.contract,chain:JSON.stringify(t.chain),symbol:t.contract.symbol}})},hideUnverifiedTokenPopover(t){this.unverifiedTokenPopover.hide(t)},printValue(t){return L.ZP.formatNumber(N.Z.tokenDecimal(t))},showAssetSettingsDialog(){g.Z.sendStatsEvent(g.Z.types.CLICK,"wt_asset_setting"),this.hideUnverifiedTokenPopover(0),this.assetSettingsDialog.show()},showUnverifiedTokenPopover(t){this.unverifiedTokenPopover.show(t)}}}),E=D,F=(0,k.Z)(E,c,d,!1,null,"50bae20b",null),I=F.exports,U={name:"AssetsWidget",components:{AssetList:I},data(){return{assets:this.$store.getters.ownedTokens}}},V=U,j=(0,k.Z)(V,r,l,!1,null,null,null),H=j.exports,K=s(34875),B=s(94618),z=s(37585),q={name:"AssetsView",components:{ActivityBox:o.Z,AssetActionRow:a.Z,AssetsWidget:H,SwitchingTab:K.Z,SwitchingTabs:B.Z,TopBar:f.Z},beforeRouteLeave(t,e,s){Object.assign(this.$scrollKeeper,{"assets-list-scroll":this.$el.querySelector(".t-assets-list").scrollTop}),s()},data(){return{coolIcon:s(24565),scroll:0,timesTransactionsUpdated:0}},computed:{address(){return this.$store.getters.ownedTokens[0].contract.contract},balanceFriendly(){return this.$store.getters.accountBalanceFriendly},hasPendingTransactions(){return this.$store.getters.getPendingTransactions.length},token(){return this.$store.getters.ownedTokens[0]},transactions(){return this.$store.getters.allTransactions.filter((t=>!z.Z.isNftTransaction(t)))}},watch:{hasPendingTransactions(){this.timesTransactionsUpdated+=1},transactions:{deep:!0,handler(){this.timesTransactionsUpdated+=1}}},activated(){setImmediate((()=>{this.$el.querySelector(".t-assets-list").scrollTop=this.$scrollKeeper["assets-list-scroll"]||0}))},methods:{tabSelected(t){switch(t){case 0:g.Z.sendStatsEvent(g.Z.types.CLICK,"wt_asset_assetTab");break;case 1:g.Z.sendStatsEvent(g.Z.types.CLICK,"wt_asset_nftTab");break;case 2:g.Z.sendStatsEvent(g.Z.types.CLICK,"wt_asset_actTab");break}}}},W=q,R=(0,k.Z)(W,i,n,!1,null,null,null),Y=R.exports},72213:function(t,e,s){t.exports=s.p+"img/eye.188d0613.svg"},3806:function(t,e,s){t.exports=s.p+"img/non_verified.d53738bf.svg"},87675:function(t,e,s){t.exports=s.p+"img/sort.8f9a6840.svg"},24565:function(t,e,s){t.exports=s.p+"img/bell.4ac633e3.svg"},14964:function(t,e,s){t.exports=s.p+"img/import_wallet.7d5b319f.svg"}}]);