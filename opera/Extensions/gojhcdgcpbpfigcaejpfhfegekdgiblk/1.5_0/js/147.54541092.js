(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[147],{48796:function(t,e,r){"use strict";r.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"wrapper"},[r("input",{attrs:{type:"checkbox"},domProps:{checked:t.isChecked,value:t.value},on:{change:t.updateInput}}),r("span",{staticClass:"checkmark"})])},i=[],o=(r(57658),{name:"OperaCheckbox",model:{event:"change",prop:"modelValue"},props:{modelValue:{default:!1,type:[Array,Boolean]},value:{default:void 0,type:[Object,String]}},computed:{isChecked(){return this.modelValue instanceof Array?this.modelValue.includes(this.value):this.modelValue===this.value}},methods:{updateInput(t){const e=t.target.checked;if(this.modelValue instanceof Array){const t=[...this.modelValue];e?t.push(this.value):t.splice(t.indexOf(this.value),1),this.$emit("change",t)}else this.$emit("change",e)}}}),a=o,s=r(1001),c=(0,s.Z)(a,n,i,!1,null,"8d8c1508",null),u=c.exports},37643:function(t,e,r){"use strict";r.d(e,{Z:function(){return p}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.disabled?t._e():r("div",{staticClass:"bg-dark-N16 border border-black border-opacity-10 cursor-pointer flex items-center justify-between mb-2 px-6 py-3 rounded-lg t-token_item-click",on:{click:t.click}},[r("token-icon",{staticClass:"h-9 w-9",attrs:{address:t.address,chain:t.chain,"icon-uri":t.value.logoURI}}),r("div",{staticClass:"flex-1 mx-4"},[r("div",{staticClass:"font-bold tracking-wider"},[t._v(t._s(t.name))]),r("div",{staticClass:"flex items-center text-dark-N77 text-xs"},[r("span",{staticClass:"mr-2"},[t._v(t._s(t.symbol))]),r("chain-badge",{attrs:{"background-color":"bg-input-bg",chain:t.chain}}),t.type&&t.type!==t.symbol?r("div",{staticClass:"bg-input-bg inline-block ml-1 px-2 py-0 rounded-full"},[t._v(" "+t._s(t.type)+" ")]):t._e()],1)]),t.selectable?r("opera-checkbox",{ref:"checkbox",staticClass:"pointer-events-none",attrs:{"model-value":t.modelValue,value:t.value},on:{change:t.onChange}}):t._e()],1)},i=[],o=r(88080),a=r(48796),s=r(56258),c=r(67990),u={name:"TokenItem",components:{ChainBadge:o.Z,OperaCheckbox:a.Z,TokenIcon:c.Z},model:{event:"change",prop:"modelValue"},props:{address:{default:"",type:String},chain:{default:void 0,type:Object},disabled:{default:!1,type:Boolean},modelValue:{default:void 0,type:[String,Object,Array]},name:{default:"",type:String},selectable:{default:!0,type:Boolean},symbol:{default:"",type:String},value:{default:void 0,type:[String,Object,Array]}},computed:{type(){const t=this.value.type??this.value.contract?.type;if(t)return!1}},methods:{click(){this.selectable?this.$refs.checkbox.$el.click():this.$emit("change",this.value)},getStatsEventName(){if("WatchListSelect"===this.$route.name){const t=this.$refs.checkbox.isChecked?"selected":"unselected";return`wt_watch_coin_${t}`}return"ReceiveToken"===this.$route.name?"wt_receive_select":"wt_coin_selected"},onChange(t){const[e,r]=[this.$store.getters.getNetworkName(this.chain),this.symbol],n=this.getStatsEventName();s.Z.sendStatsEvent(s.Z.types.CLICK,n,{network:e,symbol:r}),this.$emit("change",t)}}},l=u,h=r(1001),d=(0,h.Z)(l,n,i,!1,null,null,null),p=d.exports},88080:function(t,e,r){"use strict";r.d(e,{Z:function(){return l}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.chainNameFriendly?r("div",{staticClass:"flex mr-2 px-2 py-0.5 rounded-full space-x-1 t-chain-badge text-dark-N77",class:[t.backgroundColor]},[t.chainLogo?r("img",{staticClass:"object-contain w-3.5",attrs:{alt:"",src:t.chainLogo}}):t._e(),r("span",{staticClass:"t-chain-badge-name"},[t._v(t._s(t.chainNameFriendly))])]):t._e()},i=[],o=r(6445),a={name:"ChainBadge",props:{backgroundColor:{default:"bg-dark-N16",type:String},chain:{default:void 0,type:Object}},computed:{chainLogo(){if(this.chain)return(0,o.Z)(this.chain).icon()},chainNameFriendly(){if(this.chain)return this.$store.getters.chainNameFriendly(this.chain)}}},s=a,c=r(1001),u=(0,c.Z)(s,n,i,!1,null,null,null),l=u.exports},70924:function(t,e,r){"use strict";r.d(e,{Z:function(){return C}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"w-full"},[t.value?r("div",{staticClass:"bg-input-bg cursor-pointer flex rounded-full t-asset_selector-show_dialog",on:{click:t.showDialog}},[r("token-icon",{staticClass:"h-8 mx-4 my-5 w-10",attrs:{address:t.address,chain:t.chain}}),r("div",{staticClass:"flex items-center justify-between w-full"},[r("div",{staticClass:"tracking-wider truncate"},[r("div",{staticClass:"font-bold text-lg"},[t._v(t._s(t.name))]),r("div",{staticClass:"flex flex font-bold items-center text-grey-A text-sm"},[r("span",{staticClass:"mr-2"},[t._v(t._s(t.symbol))]),r("chain-badge",{attrs:{chain:t.chain}})],1)]),r("i",{staticClass:"icon-chevron_down m-4 text-dark-N60 w-6"})])],1):t._e(),r("asset-selector-dialog",{ref:"dialog",attrs:{options:t.options,"still-loading-count":t.stillLoadingCount,value:t.value}})],1)},i=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.showing,expression:"showing"}],staticClass:"bg-background bottom-0 fixed left-0 right-0 top-0 z-10"},[r("div",{staticClass:"flex flex-col h-full"},[r("top-bar",{attrs:{"emit-back":"","test-parent-name":"asset_selector_dialog",title:t.$t("general.selectAssets")},on:{back:t.close}}),r("div",{staticClass:"px-4"},[r("opera-input",{staticClass:"t-token_dialog-query",attrs:{placeholder:t.$t("general.search"),"prepend-icon":"icon-search text-brand-primary text-opacity-40",type:"search",value:t.search},on:{input:t.updateSearch}})],1),r("div",{staticClass:"h-full overflow-y-scroll pb-4 px-4",on:{scroll:t.onScroll}},[t._l(t.tokenList,(function(e,n){return r("div",{key:n},[r("token-item",{staticClass:"my-3",attrs:{address:"contract"in e?e.contract.contract:e.address,chain:e.chain,name:"contract"in e?e.contract.name:e.name,selectable:!1,symbol:"contract"in e?e.contract.symbol:e.symbol,value:e},on:{change:t.itemClicked}})],1)})),t._l(t.stillLoadingCount,(function(t){return r("div",{key:"loading-"+t,staticClass:"bg-dark-N16 border border-black border-opacity-10 cursor-wait flex items-center justify-between mb-2 mt-3 px-6 py-3 rounded-lg t-token_loading_item",style:{opacity:1/t}},[r("div",{staticClass:"h-10"},[r("lottie-component",{staticClass:"h-10",attrs:{src:"loader_tx.json"}})],1)])}))],2)],1)])},a=[],s=r(39944),c=r(49314),u=r(37643),l=r(38423),h=r(20144);const d=20;var p=h.Z.extend({name:"AssetSelectorDialog",components:{LottieComponent:s.Z,OperaInput:c.Z,TokenItem:u.Z,TopBar:l.Z},props:{options:{default:void 0,type:Array},stillLoadingCount:{default:0,type:Number},value:{default:void 0,type:Object}},data(){return{callback:null,loading:!1,pageSize:d,search:"",showing:!1}},computed:{tokenList(){const{tokens:t}=this;return this.search?t.filter((t=>("contract"in t?t.contract.name:t.name).toLowerCase().includes(this.search.toLowerCase()))).slice(0,this.pageSize):t.slice(0,this.pageSize)},tokens(){return this.options}},methods:{close(){!this.value||this.$route.meta?.preselectToken?this.$router.go(-1):this.showing=!1},async itemClicked(t){this.loading=!0,this.callback(t),this.showing=!1,this.loading=!1},onScroll(t){const{target:e}=t,r=e.scrollTop+e.clientHeight>=e.scrollHeight-e.clientHeight;r&&(this.pageSize+d<this.tokens.length?this.pageSize+=d:this.pageSize=this.tokens.length-1)},show(t){this.callback=t,this.showing=!0},updateSearch(t){this.search=t}}}),f=p,g=r(1001),v=(0,g.Z)(f,o,a,!1,null,null,null),m=v.exports,y=r(88080),w=r(67990),b=h.Z.extend({name:"AssetSelector",components:{AssetSelectorDialog:m,ChainBadge:y.Z,TokenIcon:w.Z},props:{options:{default:void 0,type:Array},stillLoadingCount:{default:0,type:Number},value:{default:void 0,type:Object}},data(){return{dialog:!1}},computed:{address(){return"contract"in this.token?this.token.contract.contract:this.token.address},chain(){return this.token.chain},name(){return"contract"in this.token?this.token.contract.name:this.token.name},symbol(){return"contract"in this.token?this.token.contract.symbol:this.token.symbol},token(){return this.value??this.$store.getters.matchingNativeToken("",this.chain)}},methods:{showDialog(){this.$refs.dialog.show((t=>{this.$emit("input",t)}))}}}),_=b,x=(0,g.Z)(_,n,i,!1,null,null,null),C=x.exports},94147:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return Z}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pb-20"},[r("top-bar",{attrs:{"menu-options":t.kebabMenuOptions,"menu-type":"kebab","test-parent-name":"receive_view",title:t.$t("general.receive")}}),r("div",{staticClass:"px-4"},[t.token&&t.chain?r("div",{staticClass:"flex justify-center pb-10 pt-6"},[r("q-r-code",{staticClass:"max-w-xl md:w-1/2 w-2/3",attrs:{address:t.receivingAddress,chain:t.chain,token:t.token}})],1):t._e(),r("div",{staticClass:"mx-8"},[r("div",{staticClass:"mb-2 text-grey-D"},[t._v(t._s(t.$t("general.asset")))]),r("div",{staticClass:"flex items-center justify-center"},[r("asset-selector",{ref:"assetSelector",staticClass:"mb-6",attrs:{options:t.supportedTokens,"still-loading-count":t.supportedTokensLoadingCount},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1),r("div",{staticClass:"mb-2 text-grey-D"},[t._v(t._s(t.$t("general.address")))]),r("div",{staticClass:"break-all mx-0 my-2 select-text text-brand-primary text-left"},[r("opera-copy-me",{attrs:{value:t.receivingAddress},on:{copy:t.logCopyAddress}})],1),t.fioSupported?r("fio-receive-view-widget",{attrs:{address:t.receivingAddress,token:t.token}}):t._e()],1)])],1)},i=[],o=(r(57658),r(39765)),a=r(70924),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-8"},[n("div",{staticClass:"mb-2 relative text-grey-D"},[n("span",{staticClass:"capitalize"},[t._v(t._s(t.$t("general.fioHandle")))]),n("opera-explain-icon",[n("div",[t._v(" "+t._s(t.$t("fio.explain.description"))+" ")]),n("div",{staticClass:"leading-5 mt-4 text-brand-primary text-sm"},[n("a",{attrs:{href:t.FIO_LEARN_MORE_URL,rel:"noopener noreferrer",target:"_blank"}},[n("img",{staticClass:"-mt-0.5 h-3 inline",attrs:{src:r(85048)}}),t._v(" "+t._s(t.$t("fio.explain.learnMore")))])])])],1),n("div",t._l(t.addressActiveHandles,(function(t,e){return n("div",{key:"handle-"+e,staticClass:"my-2 text-brand-primary"},[n("opera-copy-me",{attrs:{value:t}})],1)})),0),t.operaHandle&&t.addressActiveHandles.length?t._e():n("outlined-button",{staticClass:"flex-1 my-2 w-full",attrs:{title:t.$t("fio.setUpFioHandle")},on:{click:t.goToRegister}})],1)},c=[],u=r(81732),l=r(35210),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cursor-pointer inline text-sm",on:{click:t.copyMe}},[t.showCopyToClipboardMessage?n("span",{class:{"text-green":t.showCopyToClipboardMessage.ok,"text-red":!t.showCopyToClipboardMessage.ok}},[t._v(" "+t._s(t.showCopyToClipboardMessage.message)+" ")]):n("div",[t._v(" "+t._s(t.value)+" "),n("img",{staticClass:"h-4 inline ml-1 t-receive_view-copy_address w-4",attrs:{src:r(72011)}})])])},d=[],p={name:"OperaCopyMe",props:{value:{default:"",type:String}},data(){return{showCopyToClipboardMessage:!1}},mounted(){this.$root.$on("copy",this.destroyMessage.bind(this))},methods:{async copyMe(){this.$emit("copy"),this.$root.$emit("copy");const{value:t}=this,e=await this.$platform.copyToClipboard(t);this.destroyMessage(),this.showCopyToClipboardMessage={message:e?this.$t("general.copied"):this.$t("general.failed"),ok:!!e,timeout:setTimeout((()=>{this.showCopyToClipboardMessage=!1}),2e3),value:t}},destroyMessage(){this.showCopyToClipboardMessage?.timeout&&clearTimeout(this.showCopyToClipboardMessage?.timeout),this.showCopyToClipboardMessage=!1}}},f=p,g=r(1001),v=(0,g.Z)(f,h,d,!1,null,null,null),m=v.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inline"},[n("img",{ref:"icon",staticClass:"cursor-pointer h-4 inline-block mx-2 w-4",attrs:{src:r(87980)},on:{click:t.show}}),t.display?n("div",{staticClass:"absolute z-10"},[n("div",{staticClass:"-z-10 bottom-0 fixed left-0 right-0 top-0",on:{click:t.hide}}),n("div",{staticClass:"m-4 mt-1 transition-opacity",class:[t.opacityClass],on:{click:t.hide}},[n("div",{staticClass:"bg-dark-N16 h-4 ml-4 rotate-45 rounded-sm w-4",style:{marginLeft:t.offsetLeft+"px"}}),n("div",{staticClass:"-mt-2 bg-dark-N16 font-semibold leading-5 px-6 py-5 rounded-lg shadow-md text-dark-N77 text-sm"},[t._t("default")],2)])]):t._e()])},w=[],b={name:"OperaTooltip",data(){return{display:!1,offsetLeft:0,opacityClass:"opacity-0"}},mounted(){const t=this.$refs.icon.offsetLeft-16;this.offsetLeft=t},methods:{hide(){setTimeout((()=>{this.display=!1}),100),this.opacityClass="opacity-0"},show(){this.opacityClass="opacity-100",this.display=!0}}},_=b,x=(0,g.Z)(_,y,w,!1,null,null,null),C=x.exports,k=r(2424),S=r(56258),A={name:"FioReceiveViewWidget",components:{OperaCopyMe:m,OperaExplainIcon:C,OutlinedButton:k.Z},props:{address:{default:"",type:String},token:{default:void 0,type:Object}},data(){return{FIO_LEARN_MORE_URL:u.HD}},computed:{addressActiveHandles(){const{address:t,nativeTokenSymbol:e,handles:r}=this,n=[];for(const i of r){const r=this.$store.getters.getAllPublicAddressesByHandle(i);for(const o of r)o.public_address===t&&o.chain_code===e&&n.push(i)}return n},handles(){const t=this.$store.getters.getFioHandles;return t},nativeTokenSymbol(){const{token:t}=this,e=this.$store.getters.nativeTokens.find((e=>(0,l.F2)(t?.chain,e.chain))),r=e?.contract.symbol;return r},operaHandle(){let t=!1;const{handles:e}=this;if(e?.length){const r=e.filter((t=>t.endsWith("@opera")));r.length&&([t]=r)}return t}},watch:{address(){this.fetchFioData()},token(){this.fetchFioData()}},mounted(){this.fetchFioData()},methods:{async fetchFioData(){await this.$store.dispatch("fetchFioHandles");const t=this.$store.getters.getFioHandles;for(const e of t)await this.$store.dispatch("fetchAllPublicAddressesByHandle",e)},goToRegister(){S.Z.sendStatsEvent(S.Z.types.CLICK,"wt_receive_fio");const t=()=>{this.$router.replace({name:"ReceiveToken",params:{address:this.address,token:this.token}})};this.operaHandle?this.$router.push({name:"FioConnect",params:{backOverride:t},query:{handle:this.operaHandle}}):this.$router.replace({name:"FioRegister",params:{backOverride:t},query:{hasOperaDomain:"false"}})}}},M=A,O=(0,g.Z)(M,s,c,!1,null,null,null),D=O.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{ref:"code",staticClass:"p-4 qr-container rounded-2xl"}),r("img",{directives:[{name:"show",rawName:"v-show",value:t.revealImg,expression:"revealImg"}],attrs:{src:t.image},on:{error:function(e){t.image=void 0}}})])},B=[],I=r(91915),L=r.n(I),z=r(6445),q={name:"QRCode",props:{address:{default:"",type:String},token:{default:void 0,type:Object}},data(){const{address:t}=this,e=this.getImageForToken(this.token),r={backgroundOptions:{color:"#0F151A"},cornersDotOptions:{type:"dot"},cornersSquareOptions:{color:"#0ED3DF",type:"extra-rounded"},data:t,dotsOptions:{color:"#FFFFFF",type:"rounded"},height:1024,image:e,imageOptions:{crossOrigin:"anonymous",hideBackgroundDots:!0,imageSize:.4,margin:20},qrOptions:{errorCorrectionLevel:"Q",mode:"Byte",typeNumber:0},type:"canvas",width:1024};return{image:e,options:r,qrCode:new(L())(r),revealImg:!1}},watch:{address(t){this.options.data=t,this.qrCode.update(this.options)},image(t){this.options.image=t,this.qrCode.update(this.options)},token(t){this.image=this.getImageForToken(t)}},mounted(){this.qrCode.append(this.$refs["code"])},methods:{getImageForToken(t){return(0,z.Z)(t.chain).tokenIconUrl(t.address??t.contract.contract)}}},E=q,R=(0,g.Z)(E,P,B,!1,null,null,null),$=R.exports,T=r(38423),N={name:"ReceiveView",components:{AssetSelector:a.Z,FioReceiveViewWidget:D,OperaCopyMe:m,QRCode:$,TopBar:T.Z},data(){return{NULL_ADDRESS:o.L1,token:this.$route.params?.token}},computed:{areAllSupportedTokensLoading(){return this.$store.getters.allSupportedTokensLoading},chain(){return this.token?.chain},fioSupported(){const{token:t}=this;return this.$store.getters.isFioSupportedByToken(t)},kebabMenuOptions(){if(!this.fioSupported)return!1;const t=()=>{this.$router.replace({name:"ReceiveToken",params:{address:this.receivingAddress,token:this.token}})},e=this.$store.getters.getFioHandles;let n=!1;return e.length&&([n]=e),n?[{callback:()=>{this.$router.push({name:"FioConnect",params:{backOverride:t},query:{handle:n}})},icon:r(73913),title:this.$t("fio.manageHandles")}]:null},receivingAddress(){return this.$store.getters.receivingAddress},supportedTokens(){return this.$store.getters.allSupportedTokens.filter((t=>t.address!==o.NA))},supportedTokensLoadingCount(){return this.areAllSupportedTokensLoading?3:0}},watch:{token(){this.getReceivingAddress()}},mounted(){S.Z.sendStatsEvent(S.Z.types.IMPRESSION,"wt_qrcode_btn"),this.$route.meta.preselectToken&&this.$refs.assetSelector.showDialog(),this.getReceivingAddress()},methods:{getReceivingAddress(){this.token&&this.$store.dispatch("getReceivingAddress",this.chain)},logCopyAddress(){S.Z.sendStatsEvent(S.Z.types.CLICK,"wt_copyAddr_btn")}}},F=N,j=(0,g.Z)(F,n,i,!1,null,null,null),Z=j.exports},91915:function(t,e,r){var n=r(25108);!function(e,r){t.exports=r()}(self,(function(){return(()=>{var t={192:(t,e)=>{var r,n,i=function(){var t=function(t,e){var r=t,n=a[e],i=null,o=0,c=null,v=[],m={},w=function(t,e){i=function(t){for(var e=new Array(t),r=0;r<t;r+=1){e[r]=new Array(t);for(var n=0;n<t;n+=1)e[r][n]=null}return e}(o=4*r+17),b(0,0),b(o-7,0),b(0,o-7),x(),_(),k(t,e),r>=7&&C(t),null==c&&(c=A(r,n,v)),S(c,e)},b=function(t,e){for(var r=-1;r<=7;r+=1)if(!(t+r<=-1||o<=t+r))for(var n=-1;n<=7;n+=1)e+n<=-1||o<=e+n||(i[t+r][e+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},_=function(){for(var t=8;t<o-8;t+=1)null==i[t][6]&&(i[t][6]=t%2==0);for(var e=8;e<o-8;e+=1)null==i[6][e]&&(i[6][e]=e%2==0)},x=function(){for(var t=s.getPatternPosition(r),e=0;e<t.length;e+=1)for(var n=0;n<t.length;n+=1){var o=t[e],a=t[n];if(null==i[o][a])for(var c=-2;c<=2;c+=1)for(var u=-2;u<=2;u+=1)i[o+c][a+u]=-2==c||2==c||-2==u||2==u||0==c&&0==u}},C=function(t){for(var e=s.getBCHTypeNumber(r),n=0;n<18;n+=1){var a=!t&&1==(e>>n&1);i[Math.floor(n/3)][n%3+o-8-3]=a}for(n=0;n<18;n+=1)a=!t&&1==(e>>n&1),i[n%3+o-8-3][Math.floor(n/3)]=a},k=function(t,e){for(var r=n<<3|e,a=s.getBCHTypeInfo(r),c=0;c<15;c+=1){var u=!t&&1==(a>>c&1);c<6?i[c][8]=u:c<8?i[c+1][8]=u:i[o-15+c][8]=u}for(c=0;c<15;c+=1)u=!t&&1==(a>>c&1),c<8?i[8][o-c-1]=u:c<9?i[8][15-c-1+1]=u:i[8][15-c-1]=u;i[o-8][8]=!t},S=function(t,e){for(var r=-1,n=o-1,a=7,c=0,u=s.getMaskFunction(e),l=o-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var h=0;h<2;h+=1)if(null==i[n][l-h]){var d=!1;c<t.length&&(d=1==(t[c]>>>a&1)),u(n,l-h)&&(d=!d),i[n][l-h]=d,-1==(a-=1)&&(c+=1,a=7)}if((n+=r)<0||o<=n){n-=r,r=-r;break}}},A=function(t,e,r){for(var n=l.getRSBlocks(t,e),i=h(),o=0;o<r.length;o+=1){var a=r[o];i.put(a.getMode(),4),i.put(a.getLength(),s.getLengthInBits(a.getMode(),t)),a.write(i)}var c=0;for(o=0;o<n.length;o+=1)c+=n[o].dataCount;if(i.getLengthInBits()>8*c)throw"code length overflow. ("+i.getLengthInBits()+">"+8*c+")";for(i.getLengthInBits()+4<=8*c&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*c||(i.put(236,8),i.getLengthInBits()>=8*c));)i.put(17,8);return function(t,e){for(var r=0,n=0,i=0,o=new Array(e.length),a=new Array(e.length),c=0;c<e.length;c+=1){var l=e[c].dataCount,h=e[c].totalCount-l;n=Math.max(n,l),i=Math.max(i,h),o[c]=new Array(l);for(var d=0;d<o[c].length;d+=1)o[c][d]=255&t.getBuffer()[d+r];r+=l;var p=s.getErrorCorrectPolynomial(h),f=u(o[c],p.getLength()-1).mod(p);for(a[c]=new Array(p.getLength()-1),d=0;d<a[c].length;d+=1){var g=d+f.getLength()-a[c].length;a[c][d]=g>=0?f.getAt(g):0}}var v=0;for(d=0;d<e.length;d+=1)v+=e[d].totalCount;var m=new Array(v),y=0;for(d=0;d<n;d+=1)for(c=0;c<e.length;c+=1)d<o[c].length&&(m[y]=o[c][d],y+=1);for(d=0;d<i;d+=1)for(c=0;c<e.length;c+=1)d<a[c].length&&(m[y]=a[c][d],y+=1);return m}(i,n)};m.addData=function(t,e){var r=null;switch(e=e||"Byte"){case"Numeric":r=d(t);break;case"Alphanumeric":r=p(t);break;case"Byte":r=f(t);break;case"Kanji":r=g(t);break;default:throw"mode:"+e}v.push(r),c=null},m.isDark=function(t,e){if(t<0||o<=t||e<0||o<=e)throw t+","+e;return i[t][e]},m.getModuleCount=function(){return o},m.make=function(){if(r<1){for(var t=1;t<40;t++){for(var e=l.getRSBlocks(t,n),i=h(),o=0;o<v.length;o++){var a=v[o];i.put(a.getMode(),4),i.put(a.getLength(),s.getLengthInBits(a.getMode(),t)),a.write(i)}var c=0;for(o=0;o<e.length;o++)c+=e[o].dataCount;if(i.getLengthInBits()<=8*c)break}r=t}w(!1,function(){for(var t=0,e=0,r=0;r<8;r+=1){w(!0,r);var n=s.getLostPoint(m);(0==r||t>n)&&(t=n,e=r)}return e}())},m.createTableTag=function(t,e){t=t||2;var r="";r+='<table style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",r+='">',r+="<tbody>";for(var n=0;n<m.getModuleCount();n+=1){r+="<tr>";for(var i=0;i<m.getModuleCount();i+=1)r+='<td style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: 0px;",r+=" width: "+t+"px;",r+=" height: "+t+"px;",r+=" background-color: ",r+=m.isDark(n,i)?"#000000":"#ffffff",r+=";",r+='"/>';r+="</tr>"}return(r+="</tbody>")+"</table>"},m.createSvgTag=function(t,e,r,n){var i={};"object"==typeof arguments[0]&&(t=(i=arguments[0]).cellSize,e=i.margin,r=i.alt,n=i.title),t=t||2,e=void 0===e?4*t:e,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-description":null,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-title":null;var o,a,s,c,u=m.getModuleCount()*t+2*e,l="";for(c="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ",l+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',l+=i.scalable?"":' width="'+u+'px" height="'+u+'px"',l+=' viewBox="0 0 '+u+" "+u+'" ',l+=' preserveAspectRatio="xMinYMin meet"',l+=n.text||r.text?' role="img" aria-labelledby="'+M([n.id,r.id].join(" ").trim())+'"':"",l+=">",l+=n.text?'<title id="'+M(n.id)+'">'+M(n.text)+"</title>":"",l+=r.text?'<description id="'+M(r.id)+'">'+M(r.text)+"</description>":"",l+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',l+='<path d="',a=0;a<m.getModuleCount();a+=1)for(s=a*t+e,o=0;o<m.getModuleCount();o+=1)m.isDark(a,o)&&(l+="M"+(o*t+e)+","+s+c);return(l+='" stroke="transparent" fill="black"/>')+"</svg>"},m.createDataURL=function(t,e){t=t||2,e=void 0===e?4*t:e;var r=m.getModuleCount()*t+2*e,n=e,i=r-e;return y(r,r,(function(e,r){if(n<=e&&e<i&&n<=r&&r<i){var o=Math.floor((e-n)/t),a=Math.floor((r-n)/t);return m.isDark(a,o)?0:1}return 1}))},m.createImgTag=function(t,e,r){t=t||2,e=void 0===e?4*t:e;var n=m.getModuleCount()*t+2*e,i="";return i+="<img",i+=' src="',i+=m.createDataURL(t,e),i+='"',i+=' width="',i+=n,i+='"',i+=' height="',i+=n,i+='"',r&&(i+=' alt="',i+=M(r),i+='"'),i+"/>"};var M=function(t){for(var e="",r=0;r<t.length;r+=1){var n=t.charAt(r);switch(n){case"<":e+="&lt;";break;case">":e+="&gt;";break;case"&":e+="&amp;";break;case'"':e+="&quot;";break;default:e+=n}}return e};return m.createASCII=function(t,e){if((t=t||1)<2)return function(t){t=void 0===t?2:t;var e,r,n,i,o,a=1*m.getModuleCount()+2*t,s=t,c=a-t,u={"██":"█","█ ":"▀"," █":"▄","  ":" "},l={"██":"▀","█ ":"▀"," █":" ","  ":" "},h="";for(e=0;e<a;e+=2){for(n=Math.floor((e-s)/1),i=Math.floor((e+1-s)/1),r=0;r<a;r+=1)o="█",s<=r&&r<c&&s<=e&&e<c&&m.isDark(n,Math.floor((r-s)/1))&&(o=" "),s<=r&&r<c&&s<=e+1&&e+1<c&&m.isDark(i,Math.floor((r-s)/1))?o+=" ":o+="█",h+=t<1&&e+1>=c?l[o]:u[o];h+="\n"}return a%2&&t>0?h.substring(0,h.length-a-1)+Array(a+1).join("▀"):h.substring(0,h.length-1)}(e);t-=1,e=void 0===e?2*t:e;var r,n,i,o,a=m.getModuleCount()*t+2*e,s=e,c=a-e,u=Array(t+1).join("██"),l=Array(t+1).join("  "),h="",d="";for(r=0;r<a;r+=1){for(i=Math.floor((r-s)/t),d="",n=0;n<a;n+=1)o=1,s<=n&&n<c&&s<=r&&r<c&&m.isDark(i,Math.floor((n-s)/t))&&(o=0),d+=o?u:l;for(i=0;i<t;i+=1)h+=d+"\n"}return h.substring(0,h.length-1)},m.renderTo2dContext=function(t,e){e=e||2;for(var r=m.getModuleCount(),n=0;n<r;n++)for(var i=0;i<r;i++)t.fillStyle=m.isDark(n,i)?"black":"white",t.fillRect(n*e,i*e,e,e)},m};t.stringToBytes=(t.stringToBytesFuncs={default:function(t){for(var e=[],r=0;r<t.length;r+=1){var n=t.charCodeAt(r);e.push(255&n)}return e}}).default,t.createStringToBytes=function(t,e){var r=function(){for(var r=m(t),n=function(){var t=r.read();if(-1==t)throw"eof";return t},i=0,o={};;){var a=r.read();if(-1==a)break;var s=n(),c=n()<<8|n();o[String.fromCharCode(a<<8|s)]=c,i+=1}if(i!=e)throw i+" != "+e;return o}(),n="?".charCodeAt(0);return function(t){for(var e=[],i=0;i<t.length;i+=1){var o=t.charCodeAt(i);if(o<128)e.push(o);else{var a=r[t.charAt(i)];"number"==typeof a?(255&a)==a?e.push(a):(e.push(a>>>8),e.push(255&a)):e.push(n)}}return e}};var e,r,n,i,o,a={L:1,M:0,Q:3,H:2},s=(e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],r=1335,n=7973,o=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e},(i={}).getBCHTypeInfo=function(t){for(var e=t<<10;o(e)-o(r)>=0;)e^=r<<o(e)-o(r);return 21522^(t<<10|e)},i.getBCHTypeNumber=function(t){for(var e=t<<12;o(e)-o(n)>=0;)e^=n<<o(e)-o(n);return t<<12|e},i.getPatternPosition=function(t){return e[t-1]},i.getMaskFunction=function(t){switch(t){case 0:return function(t,e){return(t+e)%2==0};case 1:return function(t,e){return t%2==0};case 2:return function(t,e){return e%3==0};case 3:return function(t,e){return(t+e)%3==0};case 4:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case 5:return function(t,e){return t*e%2+t*e%3==0};case 6:return function(t,e){return(t*e%2+t*e%3)%2==0};case 7:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw"bad maskPattern:"+t}},i.getErrorCorrectPolynomial=function(t){for(var e=u([1],0),r=0;r<t;r+=1)e=e.multiply(u([1,c.gexp(r)],0));return e},i.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+t}else if(e<27)switch(t){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+t}else{if(!(e<41))throw"type:"+e;switch(t){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+t}}},i.getLostPoint=function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n+=1)for(var i=0;i<e;i+=1){for(var o=0,a=t.isDark(n,i),s=-1;s<=1;s+=1)if(!(n+s<0||e<=n+s))for(var c=-1;c<=1;c+=1)i+c<0||e<=i+c||0==s&&0==c||a==t.isDark(n+s,i+c)&&(o+=1);o>5&&(r+=3+o-5)}for(n=0;n<e-1;n+=1)for(i=0;i<e-1;i+=1){var u=0;t.isDark(n,i)&&(u+=1),t.isDark(n+1,i)&&(u+=1),t.isDark(n,i+1)&&(u+=1),t.isDark(n+1,i+1)&&(u+=1),0!=u&&4!=u||(r+=3)}for(n=0;n<e;n+=1)for(i=0;i<e-6;i+=1)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(i=0;i<e;i+=1)for(n=0;n<e-6;n+=1)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);var l=0;for(i=0;i<e;i+=1)for(n=0;n<e;n+=1)t.isDark(n,i)&&(l+=1);return r+Math.abs(100*l/e/e-50)/5*10},i),c=function(){for(var t=new Array(256),e=new Array(256),r=0;r<8;r+=1)t[r]=1<<r;for(r=8;r<256;r+=1)t[r]=t[r-4]^t[r-5]^t[r-6]^t[r-8];for(r=0;r<255;r+=1)e[t[r]]=r;return{glog:function(t){if(t<1)throw"glog("+t+")";return e[t]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]}}}();function u(t,e){if(void 0===t.length)throw t.length+"/"+e;var r=function(){for(var r=0;r<t.length&&0==t[r];)r+=1;for(var n=new Array(t.length-r+e),i=0;i<t.length-r;i+=1)n[i]=t[i+r];return n}(),n={getAt:function(t){return r[t]},getLength:function(){return r.length},multiply:function(t){for(var e=new Array(n.getLength()+t.getLength()-1),r=0;r<n.getLength();r+=1)for(var i=0;i<t.getLength();i+=1)e[r+i]^=c.gexp(c.glog(n.getAt(r))+c.glog(t.getAt(i)));return u(e,0)},mod:function(t){if(n.getLength()-t.getLength()<0)return n;for(var e=c.glog(n.getAt(0))-c.glog(t.getAt(0)),r=new Array(n.getLength()),i=0;i<n.getLength();i+=1)r[i]=n.getAt(i);for(i=0;i<t.getLength();i+=1)r[i]^=c.gexp(c.glog(t.getAt(i))+e);return u(r,0).mod(t)}};return n}var l=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var r={};return r.totalCount=t,r.dataCount=e,r},r={getRSBlocks:function(r,n){var i=function(e,r){switch(r){case a.L:return t[4*(e-1)+0];case a.M:return t[4*(e-1)+1];case a.Q:return t[4*(e-1)+2];case a.H:return t[4*(e-1)+3];default:return}}(r,n);if(void 0===i)throw"bad rs block @ typeNumber:"+r+"/errorCorrectionLevel:"+n;for(var o=i.length/3,s=[],c=0;c<o;c+=1)for(var u=i[3*c+0],l=i[3*c+1],h=i[3*c+2],d=0;d<u;d+=1)s.push(e(l,h));return s}};return r}(),h=function(){var t=[],e=0,r={getBuffer:function(){return t},getAt:function(e){var r=Math.floor(e/8);return 1==(t[r]>>>7-e%8&1)},put:function(t,e){for(var n=0;n<e;n+=1)r.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return e},putBit:function(r){var n=Math.floor(e/8);t.length<=n&&t.push(0),r&&(t[n]|=128>>>e%8),e+=1}};return r},d=function(t){var e=t,r={getMode:function(){return 1},getLength:function(t){return e.length},write:function(t){for(var r=e,i=0;i+2<r.length;)t.put(n(r.substring(i,i+3)),10),i+=3;i<r.length&&(r.length-i==1?t.put(n(r.substring(i,i+1)),4):r.length-i==2&&t.put(n(r.substring(i,i+2)),7))}},n=function(t){for(var e=0,r=0;r<t.length;r+=1)e=10*e+i(t.charAt(r));return e},i=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return r},p=function(t){var e=t,r={getMode:function(){return 2},getLength:function(t){return e.length},write:function(t){for(var r=e,i=0;i+1<r.length;)t.put(45*n(r.charAt(i))+n(r.charAt(i+1)),11),i+=2;i<r.length&&t.put(n(r.charAt(i)),6)}},n=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return r},f=function(e){var r=t.stringToBytes(e);return{getMode:function(){return 4},getLength:function(t){return r.length},write:function(t){for(var e=0;e<r.length;e+=1)t.put(r[e],8)}}},g=function(e){var r=t.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";!function(t,e){var n=r("友");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var n=r(e);return{getMode:function(){return 8},getLength:function(t){return~~(n.length/2)},write:function(t){for(var e=n,r=0;r+1<e.length;){var i=(255&e[r])<<8|255&e[r+1];if(33088<=i&&i<=40956)i-=33088;else{if(!(57408<=i&&i<=60351))throw"illegal char at "+(r+1)+"/"+i;i-=49472}i=192*(i>>>8&255)+(255&i),t.put(i,13),r+=2}if(r<e.length)throw"illegal char at "+(r+1)}}},v=function(){var t=[],e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,r,n){r=r||0,n=n||t.length;for(var i=0;i<n;i+=1)e.writeByte(t[i+r])},writeString:function(t){for(var r=0;r<t.length;r+=1)e.writeByte(t.charCodeAt(r))},toByteArray:function(){return t},toString:function(){var e="";e+="[";for(var r=0;r<t.length;r+=1)r>0&&(e+=","),e+=t[r];return e+"]"}};return e},m=function(t){var e=t,r=0,n=0,i=0,o={read:function(){for(;i<8;){if(r>=e.length){if(0==i)return-1;throw"unexpected end of file./"+i}var t=e.charAt(r);if(r+=1,"="==t)return i=0,-1;t.match(/^\s$/)||(n=n<<6|a(t.charCodeAt(0)),i+=6)}var o=n>>>i-8&255;return i-=8,o}},a=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return o},y=function(t,e,r){for(var n=function(t,e){var r=t,n=e,i=new Array(t*e),o={setPixel:function(t,e,n){i[e*r+t]=n},write:function(t){t.writeString("GIF87a"),t.writeShort(r),t.writeShort(n),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(r),t.writeShort(n),t.writeByte(0);var e=a(2);t.writeByte(2);for(var i=0;e.length-i>255;)t.writeByte(255),t.writeBytes(e,i,255),i+=255;t.writeByte(e.length-i),t.writeBytes(e,i,e.length-i),t.writeByte(0),t.writeString(";")}},a=function(t){for(var e=1<<t,r=1+(1<<t),n=t+1,o=s(),a=0;a<e;a+=1)o.add(String.fromCharCode(a));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(r));var c,u,l,h=v(),d=(c=h,u=0,l=0,{write:function(t,e){if(t>>>e!=0)throw"length over";for(;u+e>=8;)c.writeByte(255&(t<<u|l)),e-=8-u,t>>>=8-u,l=0,u=0;l|=t<<u,u+=e},flush:function(){u>0&&c.writeByte(l)}});d.write(e,n);var p=0,f=String.fromCharCode(i[p]);for(p+=1;p<i.length;){var g=String.fromCharCode(i[p]);p+=1,o.contains(f+g)?f+=g:(d.write(o.indexOf(f),n),o.size()<4095&&(o.size()==1<<n&&(n+=1),o.add(f+g)),f=g)}return d.write(o.indexOf(f),n),d.write(r,n),d.flush(),h.toByteArray()},s=function(){var t={},e=0,r={add:function(n){if(r.contains(n))throw"dup key:"+n;t[n]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return r};return o}(t,e),i=0;i<e;i+=1)for(var o=0;o<t;o+=1)n.setPixel(o,i,r(o,i));var a=v();n.write(a);for(var s=function(){var t=0,e=0,r=0,n="",i={},o=function(t){n+=String.fromCharCode(a(63&t))},a=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw"n:"+t};return i.writeByte=function(n){for(t=t<<8|255&n,e+=8,r+=1;e>=6;)o(t>>>e-6),e-=6},i.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),r%3!=0)for(var i=3-r%3,a=0;a<i;a+=1)n+="="},i.toString=function(){return n},i}(),c=a.toByteArray(),u=0;u<c.length;u+=1)s.writeByte(c[u]);return s.flush(),"data:image/gif;base64,"+s};return t}();i.stringToBytesFuncs["UTF-8"]=function(t){return function(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);n<128?e.push(n):n<2048?e.push(192|n>>6,128|63&n):n<55296||n>=57344?e.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&t.charCodeAt(r)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return e}(t)},void 0===(n="function"==typeof(r=function(){return i})?r.apply(e,[]):r)||(t.exports=n)},676:(t,e,r)=>{"use strict";r.d(e,{default:()=>z});var i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n},a=function(t){return!!t&&"object"==typeof t&&!Array.isArray(t)};function s(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!e.length)return t;var n=e.shift();return void 0!==n&&a(t)&&a(n)?(t=i({},t),Object.keys(n).forEach((function(e){var r=t[e],i=n[e];Array.isArray(r)&&Array.isArray(i)?t[e]=i:a(r)&&a(i)?t[e]=s(Object.assign({},r),i):t[e]=i})),s.apply(void 0,o([t],e))):t}function c(t,e){var r=document.createElement("a");r.download=e,r.href=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}function u(t){return e=this,r=void 0,i=function(){return function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){return[2,new Promise((function(e){var r=new XMLHttpRequest;r.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(r.response)},r.open("GET",t),r.responseType="blob",r.send()}))]}))},new((n=void 0)||(n=Promise))((function(t,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(a,s)}c((i=i.apply(e,r||[])).next())}));var e,r,n,i}const l={L:.07,M:.15,Q:.25,H:.3};var h=function(){return(h=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const d=function(){function t(t){var e=t.svg,r=t.type;this._svg=e,this._type=r}return t.prototype.draw=function(t,e,r,n){var i;switch(this._type){case"dots":i=this._drawDot;break;case"classy":i=this._drawClassy;break;case"classy-rounded":i=this._drawClassyRounded;break;case"rounded":i=this._drawRounded;break;case"extra-rounded":i=this._drawExtraRounded;break;case"square":default:i=this._drawSquare}i.call(this,{x:t,y:e,size:r,getNeighbor:n})},t.prototype._rotateFigure=function(t){var e,r=t.x,n=t.y,i=t.size,o=t.rotation,a=void 0===o?0:o,s=r+i/2,c=n+i/2;(0,t.draw)(),null===(e=this._element)||void 0===e||e.setAttribute("transform","rotate("+180*a/Math.PI+","+s+","+c+")")},t.prototype._basicDot=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(h(h({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(n+r/2)),e._element.setAttribute("cy",String(i+r/2)),e._element.setAttribute("r",String(r/2))}}))},t.prototype._basicSquare=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(h(h({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(n)),e._element.setAttribute("y",String(i)),e._element.setAttribute("width",String(r)),e._element.setAttribute("height",String(r))}}))},t.prototype._basicSideRounded=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(h(h({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+i+"v "+r+"h "+r/2+"a "+r/2+" "+r/2+", 0, 0, 0, 0 "+-r)}}))},t.prototype._basicCornerRounded=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(h(h({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+i+"v "+r+"h "+r+"v "+-r/2+"a "+r/2+" "+r/2+", 0, 0, 0, "+-r/2+" "+-r/2)}}))},t.prototype._basicCornerExtraRounded=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(h(h({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+i+"v "+r+"h "+r+"a "+r+" "+r+", 0, 0, 0, "+-r+" "+-r)}}))},t.prototype._basicCornersRounded=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(h(h({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+i+"v "+r/2+"a "+r/2+" "+r/2+", 0, 0, 0, "+r/2+" "+r/2+"h "+r/2+"v "+-r/2+"a "+r/2+" "+r/2+", 0, 0, 0, "+-r/2+" "+-r/2)}}))},t.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size;this._basicDot({x:e,y:r,size:n,rotation:0})},t.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size;this._basicSquare({x:e,y:r,size:n,rotation:0})},t.prototype._drawRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.getNeighbor,o=i?+i(-1,0):0,a=i?+i(1,0):0,s=i?+i(0,-1):0,c=i?+i(0,1):0,u=o+a+s+c;if(0!==u)if(u>2||o&&a||s&&c)this._basicSquare({x:e,y:r,size:n,rotation:0});else{if(2===u){var l=0;return o&&s?l=Math.PI/2:s&&a?l=Math.PI:a&&c&&(l=-Math.PI/2),void this._basicCornerRounded({x:e,y:r,size:n,rotation:l})}if(1===u)return l=0,s?l=Math.PI/2:a?l=Math.PI:c&&(l=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,rotation:l})}else this._basicDot({x:e,y:r,size:n,rotation:0})},t.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.getNeighbor,o=i?+i(-1,0):0,a=i?+i(1,0):0,s=i?+i(0,-1):0,c=i?+i(0,1):0,u=o+a+s+c;if(0!==u)if(u>2||o&&a||s&&c)this._basicSquare({x:e,y:r,size:n,rotation:0});else{if(2===u){var l=0;return o&&s?l=Math.PI/2:s&&a?l=Math.PI:a&&c&&(l=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:r,size:n,rotation:l})}if(1===u)return l=0,s?l=Math.PI/2:a?l=Math.PI:c&&(l=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,rotation:l})}else this._basicDot({x:e,y:r,size:n,rotation:0})},t.prototype._drawClassy=function(t){var e=t.x,r=t.y,n=t.size,i=t.getNeighbor,o=i?+i(-1,0):0,a=i?+i(1,0):0,s=i?+i(0,-1):0,c=i?+i(0,1):0;0!==o+a+s+c?o||s?a||c?this._basicSquare({x:e,y:r,size:n,rotation:0}):this._basicCornerRounded({x:e,y:r,size:n,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:r,size:n,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,rotation:Math.PI/2})},t.prototype._drawClassyRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.getNeighbor,o=i?+i(-1,0):0,a=i?+i(1,0):0,s=i?+i(0,-1):0,c=i?+i(0,1):0;0!==o+a+s+c?o||s?a||c?this._basicSquare({x:e,y:r,size:n,rotation:0}):this._basicCornerExtraRounded({x:e,y:r,size:n,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:r,size:n,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,rotation:Math.PI/2})},t}();var p=function(){return(p=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const f=function(){function t(t){var e=t.svg,r=t.type;this._svg=e,this._type=r}return t.prototype.draw=function(t,e,r,n){var i;switch(this._type){case"square":i=this._drawSquare;break;case"extra-rounded":i=this._drawExtraRounded;break;case"dot":default:i=this._drawDot}i.call(this,{x:t,y:e,size:r,rotation:n})},t.prototype._rotateFigure=function(t){var e,r=t.x,n=t.y,i=t.size,o=t.rotation,a=void 0===o?0:o,s=r+i/2,c=n+i/2;(0,t.draw)(),null===(e=this._element)||void 0===e||e.setAttribute("transform","rotate("+180*a/Math.PI+","+s+","+c+")")},t.prototype._basicDot=function(t){var e=this,r=t.size,n=t.x,i=t.y,o=r/7;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+(n+r/2)+" "+i+"a "+r/2+" "+r/2+" 0 1 0 0.1 0zm 0 "+o+"a "+(r/2-o)+" "+(r/2-o)+" 0 1 1 -0.1 0Z")}}))},t.prototype._basicSquare=function(t){var e=this,r=t.size,n=t.x,i=t.y,o=r/7;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+n+" "+i+"v "+r+"h "+r+"v "+-r+"zM "+(n+o)+" "+(i+o)+"h "+(r-2*o)+"v "+(r-2*o)+"h "+(2*o-r)+"z")}}))},t.prototype._basicExtraRounded=function(t){var e=this,r=t.size,n=t.x,i=t.y,o=r/7;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+n+" "+(i+2.5*o)+"v "+2*o+"a "+2.5*o+" "+2.5*o+", 0, 0, 0, "+2.5*o+" "+2.5*o+"h "+2*o+"a "+2.5*o+" "+2.5*o+", 0, 0, 0, "+2.5*o+" "+2.5*-o+"v "+-2*o+"a "+2.5*o+" "+2.5*o+", 0, 0, 0, "+2.5*-o+" "+2.5*-o+"h "+-2*o+"a "+2.5*o+" "+2.5*o+", 0, 0, 0, "+2.5*-o+" "+2.5*o+"M "+(n+2.5*o)+" "+(i+o)+"h "+2*o+"a "+1.5*o+" "+1.5*o+", 0, 0, 1, "+1.5*o+" "+1.5*o+"v "+2*o+"a "+1.5*o+" "+1.5*o+", 0, 0, 1, "+1.5*-o+" "+1.5*o+"h "+-2*o+"a "+1.5*o+" "+1.5*o+", 0, 0, 1, "+1.5*-o+" "+1.5*-o+"v "+-2*o+"a "+1.5*o+" "+1.5*o+", 0, 0, 1, "+1.5*o+" "+1.5*-o)}}))},t.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,i=t.rotation;this._basicDot({x:e,y:r,size:n,rotation:i})},t.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,i=t.rotation;this._basicSquare({x:e,y:r,size:n,rotation:i})},t.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.rotation;this._basicExtraRounded({x:e,y:r,size:n,rotation:i})},t}();var g=function(){return(g=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const v=function(){function t(t){var e=t.svg,r=t.type;this._svg=e,this._type=r}return t.prototype.draw=function(t,e,r,n){var i;switch(this._type){case"square":i=this._drawSquare;break;case"dot":default:i=this._drawDot}i.call(this,{x:t,y:e,size:r,rotation:n})},t.prototype._rotateFigure=function(t){var e,r=t.x,n=t.y,i=t.size,o=t.rotation,a=void 0===o?0:o,s=r+i/2,c=n+i/2;(0,t.draw)(),null===(e=this._element)||void 0===e||e.setAttribute("transform","rotate("+180*a/Math.PI+","+s+","+c+")")},t.prototype._basicDot=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(g(g({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(n+r/2)),e._element.setAttribute("cy",String(i+r/2)),e._element.setAttribute("r",String(r/2))}}))},t.prototype._basicSquare=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(g(g({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(n)),e._element.setAttribute("y",String(i)),e._element.setAttribute("width",String(r)),e._element.setAttribute("height",String(r))}}))},t.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,i=t.rotation;this._basicDot({x:e,y:r,size:n,rotation:i})},t.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,i=t.rotation;this._basicSquare({x:e,y:r,size:n,rotation:i})},t}(),m="circle";var y=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},w=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},b=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],_=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const x=function(){function t(t){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(t.width)),this._element.setAttribute("height",String(t.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=t}return Object.defineProperty(t.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),t.prototype.getElement=function(){return this._element},t.prototype.drawQR=function(t){return y(this,void 0,void 0,(function(){var e,r,n,i,o,a,s,c,u,h,d=this;return w(this,(function(p){switch(p.label){case 0:return e=t.getModuleCount(),r=Math.min(this._options.width,this._options.height)-2*this._options.margin,n=this._options.shape===m?r/Math.sqrt(2):r,i=Math.floor(n/e),o={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=t,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(p.sent(),!this._image)return[2];a=this._options,s=a.imageOptions,c=a.qrOptions,u=s.imageSize*l[c.errorCorrectionLevel],h=Math.floor(u*e*e),o=function(t){var e=t.originalHeight,r=t.originalWidth,n=t.maxHiddenDots,i=t.maxHiddenAxisDots,o=t.dotSize,a={x:0,y:0},s={x:0,y:0};if(e<=0||r<=0||n<=0||o<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var c=e/r;return a.x=Math.floor(Math.sqrt(n/c)),a.x<=0&&(a.x=1),i&&i<a.x&&(a.x=i),a.x%2==0&&a.x--,s.x=a.x*o,a.y=1+2*Math.ceil((a.x*c-1)/2),s.y=Math.round(s.x*c),(a.y*a.x>n||i&&i<a.y)&&(i&&i<a.y?(a.y=i,a.y%2==0&&a.x--):a.y-=2,s.y=a.y*o,a.x=1+2*Math.ceil((a.y/c-1)/2),s.x=Math.round(s.y/c)),{height:s.y,width:s.x,hideYDots:a.y,hideXDots:a.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:h,maxHiddenAxisDots:e-14,dotSize:i}),p.label=2;case 2:return this.drawBackground(),this.drawDots((function(t,r){var n,i,a,s,c,u;return!(d._options.imageOptions.hideBackgroundDots&&t>=(e-o.hideXDots)/2&&t<(e+o.hideXDots)/2&&r>=(e-o.hideYDots)/2&&r<(e+o.hideYDots)/2||(null===(n=b[t])||void 0===n?void 0:n[r])||(null===(i=b[t-e+7])||void 0===i?void 0:i[r])||(null===(a=b[t])||void 0===a?void 0:a[r-e+7])||(null===(s=_[t])||void 0===s?void 0:s[r])||(null===(c=_[t-e+7])||void 0===c?void 0:c[r])||(null===(u=_[t])||void 0===u?void 0:u[r-e+7]))})),this.drawCorners(),this._options.image?[4,this.drawImage({width:o.width,height:o.height,count:e,dotSize:i})]:[3,4];case 3:p.sent(),p.label=4;case 4:return[2]}}))}))},t.prototype.drawBackground=function(){var t,e,r,n=this._element,i=this._options;if(n){var o=null===(t=i.backgroundOptions)||void 0===t?void 0:t.gradient,a=null===(e=i.backgroundOptions)||void 0===e?void 0:e.color;if((o||a)&&this._createColor({options:o,color:a,additionalRotation:0,x:0,y:0,height:i.height,width:i.width,name:"background-color"}),null===(r=i.backgroundOptions)||void 0===r?void 0:r.round){var s=Math.min(i.width,i.height),c=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),c.setAttribute("x",String((i.width-s)/2)),c.setAttribute("y",String((i.height-s)/2)),c.setAttribute("width",String(s)),c.setAttribute("height",String(s)),c.setAttribute("rx",String(s/2*i.backgroundOptions.round)),this._backgroundClipPath.appendChild(c)}}},t.prototype.drawDots=function(t){var e,r,n=this;if(!this._qr)throw"QR code is not defined";var i=this._options,o=this._qr.getModuleCount();if(o>i.width||o>i.height)throw"The canvas is too small.";var a=Math.min(i.width,i.height)-2*i.margin,s=i.shape===m?a/Math.sqrt(2):a,c=Math.floor(s/o),u=Math.floor((i.width-o*c)/2),l=Math.floor((i.height-o*c)/2),h=new d({svg:this._element,type:i.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:null===(e=i.dotsOptions)||void 0===e?void 0:e.gradient,color:i.dotsOptions.color,additionalRotation:0,x:0,y:0,height:i.height,width:i.width,name:"dot-color"});for(var p=function(e){for(var i=function(i){return t&&!t(e,i)?"continue":(null===(r=f._qr)||void 0===r?void 0:r.isDark(e,i))?(h.draw(u+e*c,l+i*c,c,(function(r,a){return!(e+r<0||i+a<0||e+r>=o||i+a>=o)&&!(t&&!t(e+r,i+a))&&!!n._qr&&n._qr.isDark(e+r,i+a)})),void(h._element&&f._dotsClipPath&&f._dotsClipPath.appendChild(h._element))):"continue"},a=0;a<o;a++)i(a)},f=this,g=0;g<o;g++)p(g);if(i.shape===m){var v=Math.floor((a/c-o)/2),y=o+2*v,w=u-v*c,b=l-v*c,_=[],x=Math.floor(y/2);for(g=0;g<y;g++){_[g]=[];for(var C=0;C<y;C++)g>=v-1&&g<=y-v&&C>=v-1&&C<=y-v||Math.sqrt((g-x)*(g-x)+(C-x)*(C-x))>x?_[g][C]=0:_[g][C]=this._qr.isDark(C-2*v<0?C:C>=o?C-2*v:C-v,g-2*v<0?g:g>=o?g-2*v:g-v)?1:0}var k=function(t){for(var e=function(e){if(!_[t][e])return"continue";h.draw(w+t*c,b+e*c,c,(function(r,n){var i;return!!(null===(i=_[t+r])||void 0===i?void 0:i[e+n])})),h._element&&S._dotsClipPath&&S._dotsClipPath.appendChild(h._element)},r=0;r<y;r++)e(r)},S=this;for(g=0;g<y;g++)k(g)}},t.prototype.drawCorners=function(){var t=this;if(!this._qr)throw"QR code is not defined";var e=this._element,r=this._options;if(!e)throw"Element code is not defined";var n=this._qr.getModuleCount(),i=Math.min(r.width,r.height)-2*r.margin,o=r.shape===m?i/Math.sqrt(2):i,a=Math.floor(o/n),s=7*a,c=3*a,u=Math.floor((r.width-n*a)/2),l=Math.floor((r.height-n*a)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((function(e){var i,o,h,p,g,m,y,w,x,C,k,S,A=e[0],M=e[1],O=e[2],D=u+A*a*(n-7),P=l+M*a*(n-7),B=t._dotsClipPath,I=t._dotsClipPath;if(((null===(i=r.cornersSquareOptions)||void 0===i?void 0:i.gradient)||(null===(o=r.cornersSquareOptions)||void 0===o?void 0:o.color))&&((B=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+A+"-"+M),t._defs.appendChild(B),t._cornersSquareClipPath=t._cornersDotClipPath=I=B,t._createColor({options:null===(h=r.cornersSquareOptions)||void 0===h?void 0:h.gradient,color:null===(p=r.cornersSquareOptions)||void 0===p?void 0:p.color,additionalRotation:O,x:D,y:P,height:s,width:s,name:"corners-square-color-"+A+"-"+M})),null===(g=r.cornersSquareOptions)||void 0===g?void 0:g.type){var L=new f({svg:t._element,type:r.cornersSquareOptions.type});L.draw(D,P,s,O),L._element&&B&&B.appendChild(L._element)}else for(var z=new d({svg:t._element,type:r.dotsOptions.type}),q=function(t){for(var e=function(e){if(!(null===(m=b[t])||void 0===m?void 0:m[e]))return"continue";z.draw(D+t*a,P+e*a,a,(function(r,n){var i;return!!(null===(i=b[t+r])||void 0===i?void 0:i[e+n])})),z._element&&B&&B.appendChild(z._element)},r=0;r<b[t].length;r++)e(r)},E=0;E<b.length;E++)q(E);if(((null===(y=r.cornersDotOptions)||void 0===y?void 0:y.gradient)||(null===(w=r.cornersDotOptions)||void 0===w?void 0:w.color))&&((I=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+A+"-"+M),t._defs.appendChild(I),t._cornersDotClipPath=I,t._createColor({options:null===(x=r.cornersDotOptions)||void 0===x?void 0:x.gradient,color:null===(C=r.cornersDotOptions)||void 0===C?void 0:C.color,additionalRotation:O,x:D+2*a,y:P+2*a,height:c,width:c,name:"corners-dot-color-"+A+"-"+M})),null===(k=r.cornersDotOptions)||void 0===k?void 0:k.type){var R=new v({svg:t._element,type:r.cornersDotOptions.type});R.draw(D+2*a,P+2*a,c,O),R._element&&I&&I.appendChild(R._element)}else{z=new d({svg:t._element,type:r.dotsOptions.type});var $=function(t){for(var e=function(e){if(!(null===(S=_[t])||void 0===S?void 0:S[e]))return"continue";z.draw(D+t*a,P+e*a,a,(function(r,n){var i;return!!(null===(i=_[t+r])||void 0===i?void 0:i[e+n])})),z._element&&I&&I.appendChild(z._element)},r=0;r<_[t].length;r++)e(r)};for(E=0;E<_.length;E++)$(E)}}))},t.prototype.loadImage=function(){var t=this;return new Promise((function(e,r){var n=t._options,i=new Image;if(!n.image)return r("Image is not defined");"string"==typeof n.imageOptions.crossOrigin&&(i.crossOrigin=n.imageOptions.crossOrigin),t._image=i,i.onload=function(){e()},i.src=n.image}))},t.prototype.drawImage=function(t){var e=t.width,r=t.height,n=t.count,i=t.dotSize;return y(this,void 0,void 0,(function(){var t,o,a,s,c,l,h,d,p;return w(this,(function(f){switch(f.label){case 0:return t=this._options,o=Math.floor((t.width-n*i)/2),a=Math.floor((t.height-n*i)/2),s=o+t.imageOptions.margin+(n*i-e)/2,c=a+t.imageOptions.margin+(n*i-r)/2,l=e-2*t.imageOptions.margin,h=r-2*t.imageOptions.margin,(d=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(s)),d.setAttribute("y",String(c)),d.setAttribute("width",l+"px"),d.setAttribute("height",h+"px"),[4,u(t.image||"")];case 1:return p=f.sent(),d.setAttribute("href",p||""),this._element.appendChild(d),[2]}}))}))},t.prototype._createColor=function(t){var e=t.options,r=t.color,n=t.additionalRotation,i=t.x,o=t.y,a=t.height,s=t.width,c=t.name,u=s>a?s:a,l=document.createElementNS("http://www.w3.org/2000/svg","rect");if(l.setAttribute("x",String(i)),l.setAttribute("y",String(o)),l.setAttribute("height",String(a)),l.setAttribute("width",String(s)),l.setAttribute("clip-path","url('#clip-path-"+c+"')"),e){var h;if("radial"===e.type)(h=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",c),h.setAttribute("gradientUnits","userSpaceOnUse"),h.setAttribute("fx",String(i+s/2)),h.setAttribute("fy",String(o+a/2)),h.setAttribute("cx",String(i+s/2)),h.setAttribute("cy",String(o+a/2)),h.setAttribute("r",String(u/2));else{var d=((e.rotation||0)+n)%(2*Math.PI),p=(d+2*Math.PI)%(2*Math.PI),f=i+s/2,g=o+a/2,v=i+s/2,m=o+a/2;p>=0&&p<=.25*Math.PI||p>1.75*Math.PI&&p<=2*Math.PI?(f-=s/2,g-=a/2*Math.tan(d),v+=s/2,m+=a/2*Math.tan(d)):p>.25*Math.PI&&p<=.75*Math.PI?(g-=a/2,f-=s/2/Math.tan(d),m+=a/2,v+=s/2/Math.tan(d)):p>.75*Math.PI&&p<=1.25*Math.PI?(f+=s/2,g+=a/2*Math.tan(d),v-=s/2,m-=a/2*Math.tan(d)):p>1.25*Math.PI&&p<=1.75*Math.PI&&(g+=a/2,f+=s/2/Math.tan(d),m-=a/2,v-=s/2/Math.tan(d)),(h=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",c),h.setAttribute("gradientUnits","userSpaceOnUse"),h.setAttribute("x1",String(Math.round(f))),h.setAttribute("y1",String(Math.round(g))),h.setAttribute("x2",String(Math.round(v))),h.setAttribute("y2",String(Math.round(m)))}e.colorStops.forEach((function(t){var e=t.offset,r=t.color,n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",100*e+"%"),n.setAttribute("stop-color",r),h.appendChild(n)})),l.setAttribute("fill","url('#"+c+"')"),this._defs.appendChild(h)}else r&&l.setAttribute("fill",r);this._element.appendChild(l)},t}(),C="canvas";for(var k={},S=0;S<=40;S++)k[S]=S;const A={type:C,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:k[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var M=function(){return(M=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function O(t){var e=M({},t);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map((function(t){return M(M({},t),{offset:Number(t.offset)})})),e}function D(t){var e=M({},t);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=M(M({},e.imageOptions),{hideBackgroundDots:Boolean(e.imageOptions.hideBackgroundDots),imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=M({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=O(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=M({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=O(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=M({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=O(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=M({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=O(e.backgroundOptions.gradient))),e}var P=r(192),B=r.n(P),I=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},L=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};const z=function(){function t(t){this._options=t?D(s(A,t)):A,this.update()}return t._clearContainer=function(t){t&&(t.innerHTML="")},t.prototype._setupSvg=function(){var t=this;if(this._qr){var e=new x(this._options);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then((function(){var r;t._svg&&(null===(r=t._extension)||void 0===r||r.call(t,e.getElement(),t._options))}))}},t.prototype._setupCanvas=function(){var t,e=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=null===(t=this._svgDrawingPromise)||void 0===t?void 0:t.then((function(){if(e._svg){var t=e._svg,r=(new XMLSerializer).serializeToString(t),n="data:image/svg+xml;base64,"+btoa(r),i=new Image;return new Promise((function(t){i.onload=function(){var r,n;null===(n=null===(r=e._canvas)||void 0===r?void 0:r.getContext("2d"))||void 0===n||n.drawImage(i,0,0),t()},i.src=n}))}})))},t.prototype._getElement=function(t){return void 0===t&&(t="png"),I(this,void 0,void 0,(function(){return L(this,(function(e){switch(e.label){case 0:if(!this._qr)throw"QR code is empty";return"svg"!==t.toLowerCase()?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return e.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return e.sent(),[2,this._canvas]}}))}))},t.prototype.update=function(e){t._clearContainer(this._container),this._options=e?D(s(this._options,e)):this._options,this._options.data&&(this._qr=B()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===C?this._setupCanvas():this._setupSvg(),this.append(this._container))},t.prototype.append=function(t){if(t){if("function"!=typeof t.appendChild)throw"Container should be a single DOM node";this._options.type===C?this._canvas&&t.appendChild(this._canvas):this._svg&&t.appendChild(this._svg),this._container=t}},t.prototype.applyExtension=function(t){if(!t)throw"Extension function should be defined.";this._extension=t,this.update()},t.prototype.deleteExtension=function(){this._extension=void 0,this.update()},t.prototype.getRawData=function(t){return void 0===t&&(t="png"),I(this,void 0,void 0,(function(){var e,r,n;return L(this,(function(i){switch(i.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(t)];case 1:return(e=i.sent())?"svg"===t.toLowerCase()?(r=new XMLSerializer,n=r.serializeToString(e),[2,new Blob(['<?xml version="1.0" standalone="no"?>\r\n'+n],{type:"image/svg+xml"})]):[2,new Promise((function(r){return e.toBlob(r,"image/"+t,1)}))]:[2,null]}}))}))},t.prototype.download=function(t){return I(this,void 0,void 0,(function(){var e,r,i,o,a;return L(this,(function(s){switch(s.label){case 0:if(!this._qr)throw"QR code is empty";return e="png",r="qr","string"==typeof t?(e=t,n.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):"object"==typeof t&&null!==t&&(t.name&&(r=t.name),t.extension&&(e=t.extension)),[4,this._getElement(e)];case 1:return(i=s.sent())?("svg"===e.toLowerCase()?(o=new XMLSerializer,a='<?xml version="1.0" standalone="no"?>\r\n'+(a=o.serializeToString(i)),c("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a),r+".svg")):c(i.toDataURL("image/"+e),r+"."+e),[2]):[2]}}))}))},t}()}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}return r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r(676)})().default}))},72011:function(t,e,r){"use strict";t.exports=r.p+"img/copypaster_mini.87225509.svg"},85048:function(t,e,r){"use strict";t.exports=r.p+"img/external_link_cyan.33944302.svg"},87980:function(t,e,r){"use strict";t.exports=r.p+"img/help_gray.8bc1ff38.svg"},73913:function(t,e,r){"use strict";t.exports=r.p+"img/fio_handle_gray.ffdbee85.svg"}}]);