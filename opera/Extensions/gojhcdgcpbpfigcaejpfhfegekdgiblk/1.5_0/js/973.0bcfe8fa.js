"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[973],{40333:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("top-bar",{attrs:{dark:"","test-parent-name":"token_overview",title:t.name},scopedSlots:t._u([t.watchlistToken?{key:"action",fn:function(){return[s("div",{staticClass:"cursor-pointer flex-grow-0 ml-10 mr-1 text-brand-primary w-6",class:t.watchlistIcon,on:{click:t.toggleTokenOnWatchList}})]},proxy:!0}:null],null,!0)}),s("div",{staticClass:"flex flex-col items-left mt-4 px-14"},[s("token-icon",{staticClass:"h-10 mb-4 mt-4 rounded-full w-10",attrs:{address:t.address,chain:t.chain,type:t.type}}),s("div",{staticClass:"font-semibold text-left text-white text-xl tracking-wide truncate w-full"},[t._v(" "+t._s(t.balance)+" "+t._s(t.symbol)+" ")]),t.fiatBalance?s("div",{staticClass:"font-light text-left text-lg text-white truncate w-full"},[t._v(" ("+t._s(t.fiatBalance)+") ")]):t._e(),t.token?s("asset-action-row",{attrs:{address:t.address,token:t.token}}):t._e()],1)],1),s("div",{staticClass:"pb-6 px-14"},[s("switching-tabs",{on:{selected:t.tabSelected}},[t.tokenPriceInfo?s("switching-tab",{attrs:{title:t.$t("general.overview")}},[s("price-overview",{attrs:{address:t.address,"price-info":t.tokenPriceInfo,symbol:t.symbol.toLowerCase()}})],1):t._e(),s("switching-tab",{attrs:{title:t.$t("general.activity")}},[t.token?s("activity-box",{attrs:{activities:t.transactions,token:t.token}}):t._e()],1)],1)],1)])},i=[],a=(s(57658),s(86936)),o=s(95286),r=s(70678),c=s(70794),l=s(4184),h=s(56258),k=s(34875),d=s(94618),u=s(67990),w=s(38423),m=s(4634),p=s(98180),f={name:"TokenOverview",components:{ActivityBox:o.Z,AssetActionRow:r.Z,PriceOverview:l.Z,SwitchingTab:k.Z,SwitchingTabs:d.Z,TokenIcon:u.Z,TopBar:w.Z},data(){return{balance:0,contract:null,fiatBalance:0,loading:!1,name:"",token:null}},computed:{address(){return this.$route.query.address.toLowerCase()},chain(){if(this.$route.query.chain)return JSON.parse(this.$route.query.chain)},symbol(){return this.$route.query.symbol},tokenPriceInfo(){if(this.token)return this.$store.getters.getPriceInfoForToken(this.token)},transactions(){return this.$store.getters.transactionsForToken(this.address,this.type)},type(){if(this.token)return this.token.type??this.token.contract?.type},watchlistIcon(){const t=this.$store.getters.isTokenOnWatchList(this.watchlistToken);return(0,a.hp)(t)},watchlistToken(){const t={address:this.address,chain:this.chain,name:this.name,symbol:this.symbol};return this.$store.getters.watchlistToken(t)}},watch:{token(t){t&&this.assignTokenData()}},created(){this.getToken()},methods:{assignTokenData(){if(this.name=this.token.name??this.token.contract?.name,this.contract=this.token.address??this.token.contract?.contract,this.token&&this.token.balance&&(this.tokenPriceInfo&&(this.fiatBalance=m.ZP.localizeCurrency(p.Z.tokenDecimal(this.token).multipliedBy(new c.Z(this.tokenPriceInfo.price)))),this.token.balance)){const t=this.token.decimals??this.token.contract.decimals;this.balance=p.Z.withDecimals(this.token.balance,t)}},getToken(){if(!this.address||!this.chain)return;const{allSupportedTokens:t}=this.$store.getters;this.token=this.$store.getters.getToken(this.address,this.chain,t)},goToBuy(){h.Z.sendStatsEvent(h.Z.types.CLICK,"wt_coin_buy_bottom"),this.$router.push({name:"Buy",params:{token:this.token}})},goToSell(){this.$router.push({name:"Sell",params:{token:this.token}})},tabSelected(t){const[e,s]=[this.$store.getters.getNetworkName(this.chain),this.symbol];switch(t){case 0:h.Z.sendStatsEvent(h.Z.types.CLICK,"wt_coin_overTab",{coin:s,network:e});break;case 1:h.Z.sendStatsEvent(h.Z.types.CLICK,"wt_coin_actTab",{coin:s,network:e});break}},toggleTokenOnWatchList(){this.$store.dispatch("toggleTokenOnWatchList",this.watchlistToken)}}},b=f,g=s(1001),y=(0,g.Z)(b,n,i,!1,null,null,null),v=y.exports}}]);